<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Bottles - Bottled</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1><a href="index.html" class="home-link">Bottled</a></h1>
                <p class="tagline">My Bottles</p>
            </div>
            <a href="index.html" class="nav-link">Send a Bottle</a>
        </header>

        <main class="my-bottles-main">
            <!-- Login Section (shown when not authenticated) -->
            <div id="login-section" class="auth-section">
                <div class="auth-container">
                    <div class="auth-icon">
                        <svg viewBox="0 0 64 64" width="64" height="64">
                            <path fill="#3498db" d="M26 6h12v6c0 1.2.5 2.3 1.3 3.1l3.2 3.2c1.7 1.7 2.7 4 2.7 6.4V52c0 3.3-2.7 6-6 6H25c-3.3 0-6-2.7-6-6V28.7c0-2.4 1-4.7 2.7-6.4l3.2-3.2c.8-.8 1.3-1.9 1.3-3.1V6z"/>
                        </svg>
                    </div>
                    <h2>View Your Bottles</h2>
                    <p class="auth-description">Enter your email to view your bottles</p>
                    
                    <form id="magic-link-form" class="auth-form">
                        <div class="form-group">
                            <input type="email" id="login-email" placeholder="Your email address" required>
                        </div>
                        <button type="submit" id="send-magic-link-btn" class="primary-btn">Send Magic Link</button>
                    </form>
                    
                    <p id="magic-link-message" class="auth-message" style="display: none;"></p>
                </div>
            </div>

            <!-- Bottles Section (shown when authenticated) -->
            <div id="bottles-section" class="bottles-section" style="display: none;">
                <div class="bottles-header">
                    <div class="user-info">
                        <span id="user-email"></span>
                        <button id="sign-out-btn" class="sign-out-btn">Sign out</button>
                    </div>
                </div>
                
                <div id="bottles-list" class="bottles-list">
                    <!-- Bottles will be rendered here -->
                </div>
                
                <div id="empty-state" class="empty-state" style="display: none;">
                    <div class="empty-icon">
                        <svg viewBox="0 0 64 64" width="48" height="48">
                            <path fill="#ccc" d="M26 6h12v6c0 1.2.5 2.3 1.3 3.1l3.2 3.2c1.7 1.7 2.7 4 2.7 6.4V52c0 3.3-2.7 6-6 6H25c-3.3 0-6-2.7-6-6V28.7c0-2.4 1-4.7 2.7-6.4l3.2-3.2c.8-.8 1.3-1.9 1.3-3.1V6z"/>
                        </svg>
                    </div>
                    <p>No bottles yet. <a href="index.html">Send your first one!</a></p>
                </div>
            </div>

            <!-- Loading State -->
            <div id="loading-state" class="loading-state" style="display: none;">
                <p>Loading...</p>
            </div>
        </main>
    </div>

    <script type="module" src="my-bottles.js"></script>
</body>
</html>
